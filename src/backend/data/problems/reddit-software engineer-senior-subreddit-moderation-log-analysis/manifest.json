{
  "ID": "reddit-software engineer-senior-subreddit-moderation-log-analysis",
  "Title": "Subreddit Moderation Log Analysis",
  "Statement": "Reddit's moderation teams keep the communities healthy. This involves analyzing moderation actions to understand patterns, identify highly active moderators, and detect potential issues. Assume you have access to a continuous stream of moderation events.\n\nEach event is represented by a dictionary/object with the following fields:\n`{'timestamp': \u003clong_unix_ms\u003e, 'moderator_id': \u003cstring\u003e, 'action_type': \u003cstring\u003e, 'target_id': \u003cstring\u003e, 'subreddit_id': \u003cstring\u003e}`\n\n**Part 1: Top K Active Moderators**\nImplement a function `get_top_k_active_moderators(events_stream, k, time_window_seconds)` that processes a list of moderation events (simulating a stream) and returns the IDs of the top `k` most active moderators within the last `time_window_seconds`. An 'active' moderator is one who performs the most actions. Assume `events_stream` contains events ordered by `timestamp`.\n\n**Example Input:**\n`events_stream = [`\n  `{'timestamp': 1000, 'moderator_id': 'modA', 'action_type': 'remove', 'target_id': 'p1', 'subreddit_id': 'r/test'},`\n  `{'timestamp': 1010, 'moderator_id': 'modB', 'action_type': 'approve', 'target_id': 'p2', 'subreddit_id': 'r/test'},`\n  `{'timestamp': 1050, 'moderator_id': 'modA', 'action_type': 'remove', 'target_id': 'c1', 'subreddit_id': 'r/test'},`\n  `{'timestamp': 1060, 'moderator_id': 'modC', 'action_type': 'ban', 'target_id': 'u1', 'subreddit_id': 'r/test'},`\n  `{'timestamp': 1100, 'moderator_id': 'modA', 'action_type': 'remove', 'target_id': 'p3', 'subreddit_id': 'r/test'}`\n`]`\n`k = 2`, `time_window_seconds = 100` (latest event at 1100, so window is 100-1100)\n\n**Example Output for Part 1:**\n`['modA', 'modB']` (modA has 3 actions, modB has 1, modC has 1. If time_window was 50, then modA (2), modC (1))",
  "Languages": [
    "python",
    "java",
    "cpp",
    "javascript",
    "go",
    "rust"
  ],
  "Stub": {
    "cpp": "#include \u003cstring\u003e\n#include \u003cvector\u003e\n#include \u003cmap\u003e\n#include \u003calgorithm\u003e\n\nstruct ModerationEvent {\n    long long timestamp;\n    std::string moderator_id;\n    std::string action_type;\n    std::string target_id;\n    std::string subreddit_id;\n};\n\nclass Solution {\npublic:\n    std::vector\u003cstd::string\u003e getTopKActiveModerators(const std::vector\u003cModerationEvent\u003e\u0026 events_stream, int k, int time_window_seconds) {\n        // Your code for Part 1\n        return {};\n    }\n};",
    "go": "package main\n\ntype ModerationEvent struct {\n    Timestamp    int64\n    ModeratorId  string\n    ActionType   string\n    TargetId     string\n    SubredditId  string\n}\n\nfunc GetTopKActiveModerators(eventsStream []ModerationEvent, k int, timeWindowSeconds int) []string {\n    // Your code for Part 1\n    return []string{}\n}",
    "java": "import java.util.*;\n\nclass ModerationEvent {\n    long timestamp;\n    String moderatorId;\n    String actionType;\n    String targetId;\n    String subredditId;\n\n    public ModerationEvent(long timestamp, String moderatorId, String actionType, String targetId, String subredditId) {\n        this.timestamp = timestamp;\n        this.moderatorId = moderatorId;\n        this.actionType = actionType;\n        this.targetId = targetId;\n        this.subredditId = subredditId;\n    }\n}\n\nclass Solution {\n    public List\u003cString\u003e getTopKActiveModerators(List\u003cModerationEvent\u003e eventsStream, int k, int timeWindowSeconds) {\n        // Your code for Part 1\n        return new ArrayList\u003c\u003e();\n    }\n}",
    "javascript": "class ModerationEvent {\n    constructor(timestamp, moderator_id, action_type, target_id, subreddit_id) {\n        this.timestamp = timestamp;\n        this.moderator_id = moderator_id;\n        this.action_type = action_type;\n        this.target_id = target_id;\n        this.subreddit_id = subreddit_id;\n    }\n}\n\nfunction getTopKActiveModerators(eventsStream, k, timeWindowSeconds) {\n    // Your code for Part 1\n    return [];\n}",
    "python": "class ModerationEvent:\n    def __init__(self, timestamp: int, moderator_id: str, action_type: str, target_id: str, subreddit_id: str):\n        self.timestamp = timestamp\n        self.moderator_id = moderator_id\n        self.action_type = action_type\n        self.target_id = target_id\n        self.subreddit_id = subreddit_id\n\ndef get_top_k_active_moderators(events_stream: list[ModerationEvent], k: int, time_window_seconds: int) -\u003e list[str]:\n    # Your code for Part 1\n    pass",
    "rust": "use std::collections::HashMap;\n\npub struct ModerationEvent {\n    timestamp: i64,\n    moderator_id: String,\n    action_type: String,\n    target_id: String,\n    subreddit_id: String,\n}\n\npub fn get_top_k_active_moderators(events_stream: Vec\u003cModerationEvent\u003e, k: usize, time_window_seconds: i32) -\u003e Vec\u003cString\u003e {\n    // Your code for Part 1\n    vec![]\n}"
  },
  "Type": "coding"
}