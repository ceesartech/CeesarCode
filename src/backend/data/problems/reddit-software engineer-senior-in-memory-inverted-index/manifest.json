{
  "ID": "reddit-software engineer-senior-in-memory-inverted-index",
  "Title": "In-Memory Inverted Index for Posts",
  "Statement": "Implement a simplified in-memory inverted index for Reddit posts. You need to store posts and efficiently retrieve them based on keywords present in their titles or content.\n\n**Requirements:**\n*   `__init__()`: Initializes an empty index.\n*   `add_post(self, post_id: str, title: str, content: str)`: Adds a post to the index. Assume `post_id` is unique. The content of `title` and `content` should be indexed.\n*   `search(self, keywords: List[str]) -\u003e List[str]`: Given a list of keywords, return a list of `post_id`s that contain *all* the keywords (case-insensitive) in their title or content. The results should be sorted alphabetically by `post_id`.\n\n**Constraints:**\n*   Search should be case-insensitive.\n*   Keywords can appear anywhere in the `title` or `content`.\n*   Tokenization can be simple: split by whitespace, convert to lowercase, and remove basic punctuation. You can implement a helper `tokenize` method.\n*   No ranking needed, just exact matches for all keywords (an 'AND' operation).\n\n**Example:**\n```python\nindexer = InvertedIndex()\nindexer.add_post(\"p1\", \"Cats and Dogs\", \"A discussion about feline and canine friends.\")\nindexer.add_post(\"p2\", \"All about Cats\", \"Different breeds of cats.\")\nindexer.add_post(\"p3\", \"Dogs barking loud\", \"Training dogs not to bark.\")\n\nindexer.search([\"cats\"]) == [\"p1\", \"p2\"]\nindexer.search([\"dogs\", \"barking\"]) == [\"p3\"]\nindexer.search([\"feline\", \"canine\"]) == [\"p1\"]\nindexer.search([\"cats\", \"dogs\"]) == [\"p1\"]\nindexer.search([\"nonexistent\"]) == []\nindexer.search([\"CATS\"]) == [\"p1\", \"p2\"]\n```",
  "Languages": [
    "python",
    "java",
    "cpp",
    "javascript",
    "go",
    "rust"
  ],
  "Stub": {
    "cpp": "#include \u003cstring\u003e\n#include \u003cvector\u003e\n#include \u003cunordered_map\u003e\n#include \u003cunordered_set\u003e\n#include \u003calgorithm\u003e\n#include \u003csstream\u003e\n\nclass InvertedIndex {\npublic:\n    InvertedIndex() {\n        // Your code here\n    }\n\n    void addPost(const std::string\u0026 post_id, const std::string\u0026 title, const std::string\u0026 content) {\n        // Your code here\n    }\n\n    std::vector\u003cstd::string\u003e search(const std::vector\u003cstd::string\u003e\u0026 keywords) {\n        // Your code here\n        return {};\n    }\n\nprivate:\n    std::vector\u003cstd::string\u003e tokenize(const std::string\u0026 text) {\n        // Basic tokenizer: split by non-alphanumeric, convert to lowercase\n        // std::transform, std::isalnum, etc.\n        return {};\n    }\n};",
    "go": "package main\n\nimport (\n\t\"regexp\"\n\t\"strings\"\n)\n\ntype InvertedIndex struct {\n    // Your fields here\n}\n\nfunc NewInvertedIndex() *InvertedIndex {\n    // Your code here\n    return \u0026InvertedIndex{}\n}\n\nfunc (ii *InvertedIndex) AddPost(postId, title, content string) {\n    // Your code here\n}\n\nfunc (ii *InvertedIndex) Search(keywords []string) []string {\n    // Your code here\n    return []string{}\n}\n\nfunc (ii *InvertedIndex) tokenize(text string) []string {\n    // Basic tokenizer: split by non-alphanumeric, convert to lowercase\n    reg := regexp.MustCompile(`[^a-zA-Z0-9]+`)\n    parts := reg.Split(strings.ToLower(text), -1)\n    var tokens []string\n    for _, p := range parts {\n        if p != \"\" {\n            tokens = append(tokens, p)\n        }\n    }\n    return tokens\n}",
    "java": "import java.util.*;\n\nclass InvertedIndex {\n    // Your data structures here\n\n    public InvertedIndex() {\n        // Your code here\n    }\n\n    public void addPost(String postId, String title, String content) {\n        // Your code here\n    }\n\n    public List\u003cString\u003e search(List\u003cString\u003e keywords) {\n        // Your code here\n        return new ArrayList\u003c\u003e();\n    }\n\n    private List\u003cString\u003e tokenize(String text) {\n        // Basic tokenizer: split by non-alphanumeric, convert to lowercase\n        // For example: text.toLowerCase().split(\"[^a-z0-9]+\")\n        return new ArrayList\u003c\u003e();\n    }\n}",
    "javascript": "class InvertedIndex {\n    constructor() {\n        // Your code here\n    }\n\n    addPost(postId, title, content) {\n        // Your code here\n    }\n\n    search(keywords) {\n        // Your code here\n        return [];\n    }\n\n    tokenize(text) {\n        // Basic tokenizer: split by non-alphanumeric, convert to lowercase\n        return text.toLowerCase().split(/[^a-z0-9]+/).filter(Boolean);\n    }\n}",
    "python": "import collections\nimport re\n\nclass InvertedIndex:\n    def __init__(self):\n        # Your code here\n        pass\n\n    def add_post(self, post_id: str, title: str, content: str):\n        # Your code here\n        pass\n\n    def search(self, keywords: list) -\u003e list:\n        # Your code here\n        pass",
    "rust": "use std::collections::{HashMap, HashSet};\n\npub struct InvertedIndex {\n    // Your fields here\n}\n\nimpl InvertedIndex {\n    pub fn new() -\u003e Self {\n        // Your code here\n        InvertedIndex {}\n    }\n\n    pub fn add_post(\u0026mut self, post_id: String, title: String, content: String) {\n        // Your code here\n    }\n\n    pub fn search(\u0026self, keywords: \u0026[String]) -\u003e Vec\u003cString\u003e {\n        // Your code here\n        vec![]\n    }\n\n    fn tokenize(\u0026self, text: \u0026str) -\u003e Vec\u003cString\u003e {\n        // Basic tokenizer: split by non-alphanumeric, convert to lowercase\n        text.to_lowercase()\n            .split(|c: char| !c.is_alphanumeric())\n            .filter(|s| !s.is_empty())\n            .map(String::from)\n            .collect()\n    }\n}"
  },
  "Type": "coding"
}