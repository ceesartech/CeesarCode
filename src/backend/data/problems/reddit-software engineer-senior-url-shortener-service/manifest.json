{
  "ID": "reddit-software engineer-senior-url-shortener-service",
  "Title": "URL Shortener Service",
  "Statement": "Reddit often uses short URLs (e.g., redd.it/abcde) for sharing posts and comments. Design and implement a simplified URL shortening service. Your service should provide two main functionalities:\n\n1.  `shorten_url(long_url: str) -\u003e str`: Given a long URL, return a unique, short URL code (e.g., 'abcde'). This code should be relatively short (e.g., 5-8 characters) and composed of alphanumeric characters.\n2.  `retrieve_long_url(short_code: str) -\u003e str`: Given a short URL code, return the original long URL.\n\n**Requirements:**\n-   Short codes must be unique.\n-   The system should be efficient for both shortening and retrieving.\n-   Consider how to handle collisions if a deterministic approach is used or if random generation produces duplicates.\n-   Discuss scalability considerations for a high-traffic service.\n\n**Example:**\n`short_code = shorten_url(\"https://www.reddit.com/r/programming/comments/...\")`\n`long_url = retrieve_long_url(short_code)`\n`long_url` should be `\"https://www.reddit.com/r/programming/comments/..\"`",
  "Languages": [
    "python",
    "java",
    "cpp",
    "javascript",
    "go",
    "rust"
  ],
  "Stub": {
    "cpp": "#include \u003cstring\u003e\n#include \u003cunordered_map\u003e\n#include \u003crandom\u003e\n\nclass URLShortener {\npublic:\n    URLShortener() {\n        // Initialize data structures\n    }\n\n    std::string shorten_url(const std::string\u0026 long_url) {\n        // Implement logic to generate and store a short code\n        return \"\";\n    }\n\n    std::string retrieve_long_url(const std::string\u0026 short_code) {\n        // Implement logic to retrieve the original URL\n        return \"\";\n    }\n\nprivate:\n    // Your data structures for storing mappings\n    std::unordered_map\u003cstd::string, std::string\u003e short_to_long_;\n    std::unordered_map\u003cstd::string, std::string\u003e long_to_short_;\n    // Random generator if needed\n};\n",
    "go": "package main\n\nimport (\n\t\"math/rand\"\n\t\"time\"\n)\n\ntype URLShortener struct {\n    // Your data structures for storing mappings\n}\n\nfunc NewURLShortener() *URLShortener {\n    // Initialize data structures\n\treturn \u0026URLShortener{}\n}\n\nfunc (us *URLShortener) ShortenURL(longURL string) string {\n    // Implement logic to generate and store a short code\n    return \"\"\n}\n\nfunc (us *URLShortener) RetrieveLongURL(shortCode string) string {\n    // Implement logic to retrieve the original URL\n    return \"\"\n}",
    "java": "import java.util.concurrent.ConcurrentHashMap;\nimport java.util.Map;\n\nclass URLShortener {\n    // Your data structures for storing mappings\n\n    public URLShortener() {\n        // Initialize data structures\n    }\n\n    public String shortenUrl(String longUrl) {\n        // Implement logic to generate and store a short code\n        return null;\n    }\n\n    public String retrieveLongUrl(String shortCode) {\n        // Implement logic to retrieve the original URL\n        return null;\n    }\n}",
    "javascript": "class URLShortener {\n    constructor() {\n        // Your data structures for storing mappings\n    }\n\n    shortenUrl(longUrl) {\n        // Implement logic to generate and store a short code\n        return null;\n    }\n\n    retrieveLongUrl(shortCode) {\n        // Implement logic to retrieve the original URL\n        return null;\n    }\n}",
    "python": "class URLShortener:\n    def __init__(self):\n        # Your data structures for storing mappings\n        pass\n\n    def shorten_url(self, long_url: str) -\u003e str:\n        # Implement logic to generate and store a short code\n        pass\n\n    def retrieve_long_url(self, short_code: str) -\u003e str:\n        # Implement logic to retrieve the original URL\n        pass",
    "rust": "use std::collections::HashMap;\nuse rand::{thread_rng, Rng};\n\npub struct URLShortener {\n    // Your data structures for storing mappings\n}\n\nimpl URLShortener {\n    pub fn new() -\u003e Self {\n        // Initialize data structures\n        URLShortener {}\n    }\n\n    pub fn shorten_url(\u0026mut self, long_url: \u0026str) -\u003e String {\n        // Implement logic to generate and store a short code\n        String::new()\n    }\n\n    pub fn retrieve_long_url(\u0026self, short_code: \u0026str) -\u003e String {\n        // Implement logic to retrieve the original URL\n        String::new()\n    }\n}"
  },
  "Type": "coding"
}