{
  "id": "canva-machine learning engineer-senior-design-feature-store",
  "title": "Design a Feature Store for Machine Learning at Canva",
  "statement": "Canva is expanding its use of machine learning models across various product areas, including template recommendations, search ranking, and personalized content. To manage the features used by these models effectively, you need to design a centralized feature store. The feature store should support both online and offline access to features, with low latency for online inference.\n\nConsider the following requirements:\n\n*   **Data Sources:** Canva's data comes from various sources, including relational databases (e.g., MySQL), data lakes (e.g., S3 with Parquet), and streaming platforms (e.g., Kafka). How will you ingest data from these sources into the feature store?\n*   **Feature Transformation:** Many features require transformation (e.g., normalization, aggregation) before they can be used by models. How will you handle feature transformations in a scalable and reproducible way?\n*   **Offline Feature Storage:** How will you store features for offline training and batch inference? Consider the size of the feature data and the need for efficient querying.\n*   **Online Feature Serving:** How will you serve features for online inference with low latency?  Consider strategies like caching and pre-computation.\n*   **Feature Versioning:** How will you manage different versions of features and ensure that models are trained and served with the correct feature versions?\n*   **Feature Monitoring:** How will you monitor the quality and freshness of features and detect anomalies?\n*   **Metadata Management:** How will you manage metadata about features, such as descriptions, owners, and dependencies?\n\nProvide a high-level architecture diagram of the feature store and describe the key components and their interactions.  Discuss the technologies you would consider using for each component (e.g., Feast, Tecton, Hopsworks, custom implementation using Spark, Kafka, Cassandra).  Explain the trade-offs between different approaches.",
  "languages": [
    "python",
    "java",
    "cpp"
  ],
  "stub": {
    "cpp": "class Solution {\npublic:\n    void designFeatureStore() {\n        // Your code here: Provide a high-level design document in comments.\n        // Consider outlining:\n        // 1. Data Ingestion\n        // 2. Feature Transformation\n        // 3. Offline Storage\n        // 4. Online Serving\n        // 5. Feature Versioning\n        // 6. Feature Monitoring\n        // 7. Metadata Management\n    }\n};",
    "java": "class Solution {\n    public void designFeatureStore() {\n        // Your code here: Provide a high-level design document in comments.\n        // Consider outlining:\n        // 1. Data Ingestion\n        // 2. Feature Transformation\n        // 3. Offline Storage\n        // 4. Online Serving\n        // 5. Feature Versioning\n        // 6. Feature Monitoring\n        // 7. Metadata Management\n    }\n}",
    "python": "def design_feature_store():\n    # Your code here: Provide a high-level design document in comments.\n    # Consider outlining:\n    # 1. Data Ingestion\n    # 2. Feature Transformation\n    # 3. Offline Storage\n    # 4. Online Serving\n    # 5. Feature Versioning\n    # 6. Feature Monitoring\n    # 7. Metadata Management\n    pass"
  }
}